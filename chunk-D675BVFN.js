import{a as U}from"./chunk-Q3E4WUOF.js";import{a as Y}from"./chunk-K65G3ZYH.js";import{a as w}from"./chunk-JOHXSRUU.js";import{a as z}from"./chunk-EP43BHPW.js";import"./chunk-57S32UIU.js";import{a as W}from"./chunk-AGQV4XW6.js";import{a as x}from"./chunk-3F6E25MF.js";import"./chunk-P2I5RLKN.js";import{b as J,c as y,e as G,f as L,h as M,j as P,k as R,l as O,m as V,n as q}from"./chunk-RWPWEADW.js";import{a as K}from"./chunk-EN27VUQP.js";import"./chunk-E7LQUBD3.js";import{l as N}from"./chunk-ZZ4TVKJ3.js";import{W as T,X as F}from"./chunk-F54PHEQN.js";import"./chunk-CB4AZW4Z.js";import"./chunk-NMGI7OHJ.js";import{c as A,d as D}from"./chunk-YRDZDYCR.js";import{aa as j}from"./chunk-24Y6DEMT.js";import{Gb as S,Gc as n,Hc as r,Lb as u,Vb as e,Wb as i,Xb as l,ca as k,f as X,gc as b,i as _,pb as t,qb as m,qc as a,rc as g,sc as f,va as C,xc as B,yc as E,zb as c}from"./chunk-YL2HPNIQ.js";var h=X(Y());function Z(p,I){p&1&&l(0,"i",43)}function $(p,I){p&1&&l(0,"i",44)}function ee(p,I){p&1&&l(0,"i",45)}var be=(()=>{class p{constructor(o,d,s,v,H,Q){this._FormBuilder=o,this.CookieService=d,this.store=s,this._Router=v,this._AuthService=H,this._ToastrService=Q,this.hide=c(!0),this.load=c(!1)}encrypt(o){return h.AES.encrypt(JSON.stringify(o),w.TokenSecretKey).toString()}decrypt(o){let d=h.AES.decrypt(o,w.TokenSecretKey);return JSON.parse(d.toString(h.enc.Utf8))}setCookie(o){this.CookieService.set("userToken",this.encrypt(o),{expires:30,path:"/",secure:!0,sameSite:"Strict"})}toggle(){this.hide=c(!this.hide())}submit(){this.form.status=="VALID"?(this.load=c(!0),this._AuthService.login(this.form.value).pipe(k(o=>{this.setCookie(o.data.token),this.store.dispatch(W({token:o.data.token})),this._Router.navigate(["/home"]),this.load=c(!1)})).subscribe(_,o=>{this._ToastrService.error(localStorage.getItem("lang")=="en"?"Incorrect phone or password":"\u062E\u0637\u0623 \u0628\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0623\u0648 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),this.load=c(!1)})):this._ToastrService.error(localStorage.getItem("lang")=="en"?"Fields is required":"\u064A\u0631\u062C\u064A \u0627\u062F\u062E\u0627\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0644\u0627\u0632\u0645\u0629 \u0644\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644")}ngOnInit(){this.form=this._FormBuilder.group({phone:["",[y.required]],password:["",[y.required]]})}static{this.\u0275fac=function(d){return new(d||p)(m(O),m(x),m(N),m(T),m(U),m(K))}}static{this.\u0275cmp=C({type:p,selectors:[["app-sign-in"]],standalone:!0,features:[B([x]),E],decls:72,vars:44,consts:[[1,"flex","items-stretch","min-h-screen"],[1,"lang-drop","fixed","top-5","rtl:left-5","ltr:right-5"],[1,"w-full","min-h-full"],[1,"inner","h-full","flex","items-stretch","justify-center"],["wow-data-duration","1.5s",1,"w-full","flex","items-stretch","overflow-hidden","justify-center","wow","fadeIn"],[1,"w-1/2","max-lg:hidden","bg-main-solid","inline-flex","justify-center","items-center","flex-col"],["src","logo-dark.png","alt","logo image"],[1,"text-5xl","-tracking-tight","font-extrabold","text-white"],[1,"w-full","lg:w-1/2"],[1,"inner","flex","items-center","h-full"],[1,"p-5","w-full"],[1,"flex","items-center","gap-2","mb-5","heading"],["loading","lazy","src","logo.png","alt","logo",1,"w-14","lg:hidden"],[1,"content"],[1,"text-3xl","lg:hidden","font-extrabold","text-main-solid"],[1,"text-3xl","max-lg:hidden","font-extrabold","text-main-solid"],[1,"text-lg","font-thin","text-main-light"],[1,"form"],[3,"ngSubmit","formGroup"],[1,"mb-3","form-control"],["for","phoneNumber"],["id","phoneNumber","formControlName","phone","type","text",3,"placeholder"],["for","password"],[1,"relative"],["id","password","formControlName","password",1,"peer/input",3,"type","placeholder"],["aria-label","showPrHodePassword","type","button","for","password",1,"absolute","text-gray-400","-translate-y-1/2","top-1/2","ltr:right-2","rtl:left-2","peer-focus/input:text-main-solid",3,"click"],["class","text-lg pi pi-eye",4,"ngIf"],["class","text-lg pi pi-eye-slash",4,"ngIf"],["aria-label","loginBtn",1,"w-full","mt-5","rounded-md","btn-main","flex","justify-center","items-center","gap-2"],["class","pi pi-spinner animate-spin",4,"ngIf"],[1,"block","text-center"],["routerLink","/au/reset-password",1,"inline-block","underline","duration-200","cursor-pointer","text-main-solid","hover:text-main-light"],[1,"my-3","flex","justify-center","items-center","text-center","relative","before:w-1/2","before:rounded-full","before:absolute","before:h-0.5","before:bg-main-light"],[1,"relative","z-10","p-1","bg-white"],[1,"flex","items-center","justify-center","text-sm","rounded-full","inner","bg-main-solid","text-gray-50","w-7","h-7"],[1,"flex","items-center","justify-center","gap-2","my-3"],["aria-label","loginWithGoogleBtn",1,"flex","items-center","justify-center","w-12","h-12","duration-200","border","rounded-full","icon","border-main-solid","text-main-solid","hover:bg-main-solid","hover:text-gray-50"],[1,"text-xl","pi","pi-google"],["aria-label","loginWithAppleBtn",1,"flex","items-center","justify-center","w-12","h-12","duration-200","border","rounded-full","icon","border-main-solid","text-main-solid","hover:bg-main-solid","hover:text-gray-50"],[1,"text-xl","pi","pi-apple"],["aria-label","loginWithFacebookBtn",1,"flex","items-center","justify-center","w-12","h-12","duration-200","border","rounded-full","icon","border-main-solid","text-main-solid","hover:bg-main-solid","hover:text-gray-50"],[1,"text-xl","pi","pi-facebook"],["routerLink","/au/sign-up",1,"underline","duration-200","cursor-pointer","text-main-solid","hover:text-main-light"],[1,"text-lg","pi","pi-eye"],[1,"text-lg","pi","pi-eye-slash"],[1,"pi","pi-spinner","animate-spin"]],template:function(d,s){d&1&&(e(0,"section",0)(1,"div",1),l(2,"app-languages-dropdown"),i(),e(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),l(7,"img",6),e(8,"h2",7),a(9),n(10,"translate"),i()(),e(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),l(15,"img",12),e(16,"div",13)(17,"h2",14),a(18),n(19,"translate"),i(),e(20,"h2",15),a(21),n(22,"translate"),i(),e(23,"span",16),a(24),n(25,"translate"),i()()(),e(26,"div",17)(27,"form",18),b("ngSubmit",function(){return s.submit()}),e(28,"div",19)(29,"label",20),a(30),n(31,"translate"),i(),l(32,"input",21),n(33,"translate"),i(),e(34,"div",19)(35,"label",22),a(36),n(37,"translate"),i(),e(38,"div",23),l(39,"input",24),n(40,"translate"),e(41,"button",25),b("click",function(){return s.toggle()}),S(42,Z,1,0,"i",26)(43,$,1,0,"i",27),i()()(),e(44,"button",28),a(45),n(46,"translate"),S(47,ee,1,0,"i",29),i(),e(48,"span",30),a(49),n(50,"translate"),e(51,"a",31),a(52),n(53,"translate"),i()()(),e(54,"span",32)(55,"span",33)(56,"span",34),a(57,"Or"),i()()(),e(58,"div",35)(59,"button",36),l(60,"i",37),i(),e(61,"button",38),l(62,"i",39),i(),e(63,"button",40),l(64,"i",41),i()(),e(65,"span",30)(66,"span"),a(67),n(68,"translate"),i(),e(69,"a",42),a(70),n(71,"translate"),i()()()()()()()()()()),d&2&&(t(9),f(" ",r(10,18,"account.login")," "),t(9),f(" ",r(19,20,"account.login")," "),t(3),f(" ",r(22,22,"global.welcome-back")," "),t(3),g(r(25,24,"account.to-know")),t(3),u("formGroup",s.form),t(3),g(r(31,26,"account.phone")),t(2),u("placeholder",r(33,28,"account.phone-placeholder")),t(4),g(r(37,30,"account.password")),t(3),u("type",s.hide()?"password":"text")("placeholder",r(40,32,"account.pass-placeholder")),t(3),u("ngIf",!s.hide()),t(),u("ngIf",s.hide()),t(2),f(" ",r(46,34,"account.submit-login")," "),t(2),u("ngIf",s.load()),t(2),f("",r(50,36,"account.forgotPassword")," "),t(3),g(r(53,38,"account.reset-pass")),t(15),g(r(68,40,"account.dont-acc")),t(3),f(" ",r(71,42,"account.register"),""))},dependencies:[V,M,J,G,L,q,P,R,j,F,D,A,z]})}}return p})();export{be as SignInComponent};
