import{a as B}from"./chunk-E5CK7IDI.js";import{a as R}from"./chunk-RZA4WTT7.js";import{b as $}from"./chunk-5YQQEXEO.js";import{a as z}from"./chunk-WSAW2S45.js";import{l as W}from"./chunk-ZZ4TVKJ3.js";import{W as P,X as j}from"./chunk-GBURKEHO.js";import{c as F,d as L}from"./chunk-YRDZDYCR.js";import{aa as E,wa as M,ya as O}from"./chunk-24Y6DEMT.js";import{Gb as f,Gc as v,Hc as k,Ic as w,Lb as s,Vb as n,Wb as o,Xb as d,ca as u,gc as I,hc as x,i as p,kb as _,pb as r,qb as c,qc as l,rc as m,sc as C,tc as S,va as y,yc as T,zb as h}from"./chunk-YL2HPNIQ.js";function D(t,g){if(t&1&&(n(0,"span",24),l(1),v(2,"translate"),o()),t&2){let i=x();r(),S("",k(2,2,"cart.discount")," ",i.product.discount,"%")}}function q(t,g){if(t&1&&(n(0,"del",25),l(1),o()),t&2){let i=x();r(),m(i.product.price)}}function A(t,g){t&1&&d(0,"i",26)}function N(t,g){t&1&&d(0,"i",27)}var ae=(()=>{class t{constructor(i,a,e,b){this._WishlistService=i,this._Store=a,this._ToastrService=e,this._Router=b,this.isFavourite=h(!1),this.currency$=this._Store.select($),this.currency=""}ngOnInit(){this.currency$.pipe(u(i=>this.currency=i)).subscribe(p,i=>console.log(i))}addToWishlist(i){this._Store.select(z).pipe(u(e=>{e.token!=null?(this.isFavourite=h(!0),this.addItemToWishlist(e.token)):(this._ToastrService.warning(localStorage.getItem("lang")?.includes("en")?"This action require login":"\u064A\u062C\u0628 \u062A\u0633\u062C\u064A\u0644 \u0644\u0644\u062F\u062E\u0648\u0644 \u0644\u0627\u062A\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"),this._Router.navigate(["/au/sign-in"]))})).subscribe(p,e=>console.log(e))}addItemToWishlist(i){this._WishlistService.addToWishlist(i).pipe(u(a=>{a.code==200&&this._ToastrService.success(a.message)})).subscribe(p,a=>console.log(a))}static{this.\u0275fac=function(a){return new(a||t)(c(R),c(W),c(B),c(P))}}static{this.\u0275cmp=y({type:t,selectors:[["app-card-item"]],inputs:{product:"product"},standalone:!0,features:[T],decls:34,vars:15,consts:[[1,"relative","overflow-hidden","duration-200","border","rounded-md","shadow-md","product","group/card","card","bg-gray-50","border-gray-50","hover:border-main-solid"],["class","absolute z-10 px-4 text-xs bg-red-600 rounded-tl-full rounded-br-full top-2 left-2 lg:top-5 lg:left-5 text-gray-50",4,"ngIf"],[1,"w-full","min-h-52","max-h-52","flex","items-stretch","mb-3","overflow-hidden","rounded-md","bg-red-200"],["loading","lazy",1,"w-full","duration-200","group-hover/card:scale-110",3,"src","alt"],[1,"p-3","content"],[1,"cursor-pointer"],[1,"flex","flex-col","items-start","justify-center","gap-2","main-content"],[1,"px-4","py-2","text-xs","duration-200","border","rounded-md","sm:m-0","sm:px-2","sm:py-1","-tracking-tighter","bg-main-solid","text-gray-50","border-main-solid","group-hover/card:text-main-solid","group-hover/card:bg-transparent"],[1,"text-xl","font-bold","duration-200","cursor-pointer","text-main-solid","hover:text-main-light","line-clamp-1",3,"routerLink"],[1,"flex","items-center","gap-2","my-3","text-sm"],[1,"text-lg","pi","pi-shop","text-main-solid"],[1,"text-gray-400"],[1,"my-3","text-xl","font-bold","group-hover/card:text-main-solid"],[1,"inline-block","mx-2","text-gray-400","text-sm"],["class","text-base text-gray-400 line-through",4,"ngIf"],[1,"flex","items-center","justify-between","gap-5","text-sm","text-gray-400"],[1,"rate","flex","items-center","gap-2"],[1,"text-yellow-500","pi","pi-star-fill"],[1,"btns","flex","gap-2","items-center"],[1,"w-10","h-10","flex","items-center","justify-center","text-lg","font-semibold","text-center","duration-200","border","rounded-full","lg:text-sm","xl:text-lg","text-nowrap","bg-main-lighter","border-main-lighter","text-main-solid","hover:text-main-lighter","hover:bg-main-solid","hover:border-main-solid",3,"routerLink"],[1,"pi","pi-shopping-cart"],[1,"w-10","h-10","flex","items-center","justify-center","text-lg","font-semibold","text-center","duration-200","border","rounded-full","lg:text-sm","xl:text-lg","text-nowrap","border-main-lighter","text-main-solid","hover:text-main-lighter","hover:bg-main-solid","hover:border-main-solid",3,"click"],["class","pi pi-heart",4,"ngIf"],["class","pi pi-heart-fill",4,"ngIf"],[1,"absolute","z-10","px-4","text-xs","bg-red-600","rounded-tl-full","rounded-br-full","top-2","left-2","lg:top-5","lg:left-5","text-gray-50"],[1,"text-base","text-gray-400","line-through"],[1,"pi","pi-heart"],[1,"pi","pi-heart-fill"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div"),f(2,D,3,4,"span",1),n(3,"figure",2),d(4,"img",3),o()(),n(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),l(9),o(),n(10,"h3",8),l(11),o()(),n(12,"p",9),d(13,"i",10),n(14,"span",11),l(15,"By Al-ostourah store"),o()(),n(16,"h3",12)(17,"span"),l(18),v(19,"currency"),o(),n(20,"span",13),l(21,"/Qty"),o(),f(22,q,2,1,"del",14),o(),n(23,"div",15)(24,"div",16)(25,"span"),l(26),o(),d(27,"i",17),o(),n(28,"div",18)(29,"button",19),d(30,"i",20),o(),n(31,"button",21),I("click",function(){return e.addToWishlist(e.product.id)}),f(32,A,1,0,"i",22)(33,N,1,0,"i",23),o()()()()()()),a&2&&(r(2),s("ngIf",e.product.discount>0),r(2),s("src",e.product.coverImage,_)("alt",e.product.title),r(5),m(e.product.category),r(),s("routerLink","/product/description/"+e.product.id),r(),C(" ",e.product.title," "),r(7),m(w(19,12,e.product.priceOfterDiscount,e.currency)),r(4),s("ngIf",e.product.discount>0),r(4),m(e.product.rate),r(3),s("routerLink","/product/description/"+e.product.id),r(3),s("ngIf",!e.isFavourite()),r(),s("ngIf",e.isFavourite()))},dependencies:[j,O,E,M,L,F],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{transform:translate(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{transition:transform .5s .4s;transform:translate(160%)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover, .heart[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_animate 1s linear infinite}@keyframes _ngcontent-%COMP%_animate{0%{transform:scale(1)}20%{transform:scale(.8)}40%{transform:scale(1.5)}60%{transform:scale(1)}80%{transform:scale(1.3)}to{transform:scale(1)}}"]})}}return t})();export{ae as a};
