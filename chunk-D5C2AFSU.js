import{d as k}from"./chunk-FSXPOTDE.js";import{a as M}from"./chunk-BCLJWBKR.js";import{b as _,e as x,f as I,h as D,i as C,j as F,k as R,l as A,m as O,n as N}from"./chunk-JEB2BSX2.js";import{l as E,m as i,n as T}from"./chunk-L4FLERUP.js";import{b as m}from"./chunk-OYDM5OEP.js";import{Ba as w}from"./chunk-TRTIGX42.js";import{Lb as y,Ra as h,Sb as n,Tb as s,Ub as c,Va as f,dc as L,f as U,nc as d,pb as v,qb as g,uc as S,va as p,vc as b}from"./chunk-K2EQSHJF.js";var l=T("layout"),Y=i(l,e=>e.LAYOUT),q=i(l,e=>e.LAYOUT_SKIN),z=i(l,e=>e.LAYOUT_MODE),B=i(l,e=>e.LAYOUT_DIRECTION),G=i(l,e=>e.LAYOUT_WIDTH),W=i(l,e=>e.SIDEBAR_SIZE),H=i(l,e=>e.LAYOUT_NAVIGATION),K=i(l,e=>e.SIDEBAR_COLOR),Z=i(l,e=>e.TOPBAR_COLOR);var o=U(M());var ge=(()=>{class e{constructor(t,r,a,u,j,P){this._FormBuilder=t,this.platformId=r,this._TranslateService=a,this._ElementRef=u,this.store=j,this.translate=P}ngOnInit(){this.langForm=this._FormBuilder.group({lang:["en"]}),this.translate&&typeof this.translate.setDefaultLang=="function"?(this.translate.setDefaultLang("en"),this.translate.use("en")):console.error("TranslateService not correctly initialized"),typeof window<"u"&&window.localStorage&&w(this.platformId)&&this.changeLanguage(localStorage.getItem("lang")||this.translate.getBrowserCultureLang()||"en")}changeLang(){let t=this._ElementRef.nativeElement.querySelector("#selected-lang"),r=this._ElementRef.nativeElement.querySelector("#selected-lang-img");switch(this.langForm.get("lang")?.value){case"ar":t.innerText="\u0639\u0631\u0628\u064A",r.src="currencies/egypt-flag.svg";break;default:t.innerText="English",r.src="currencies/usa-flag.svg";break}this.changeLanguage(this.langForm.value.lang),window.location.reload()}changeLanguage(t){this.language=t;let r=this._ElementRef.nativeElement.querySelector("#selected-lang");t=="ar"?r.innerText="\u0639\u0631\u0628\u064A":r.innerText="English",this._TranslateService.use(t),localStorage.setItem("lang",t),this.applyLanguage()}applyLanguage(){let t=localStorage.getItem("lang"),a=new URL(window.location.href).searchParams.get("lang")||t||this.getBrowserPreferredLanguage();localStorage.setItem("lang",a),this._TranslateService.setDefaultLang(a),this._TranslateService.use(a),a=="ar"&&((0,o.default)("html").attr("lang","ar"),(0,o.default)("html").attr("dir","rtl"),(0,o.default)("html").removeClass("d-ltr"),(0,o.default)("html").addClass("d-rtl"),this.changeLayoutDirection("rtl")),a=="en"&&((0,o.default)("html").attr("lang","en"),(0,o.default)("html").attr("dir","ltr"),(0,o.default)("html").removeClass("d-rtl"),(0,o.default)("html").addClass("d-ltr"),this.changeLayoutDirection("ltr"))}getBrowserPreferredLanguage(){let t=navigator.language,r=["en","ar"],a=t.substring(0,2);return r.includes(a)?a:"en"}changeLayoutDirection(t){this.store.dispatch(k({dir:t}));let r=this._ElementRef.nativeElement.querySelector("#selected-lang"),a=this._ElementRef.nativeElement.querySelector("#selected-lang-img");switch(t){case"rtl":r.innerText="\u0639\u0631\u0628\u064A",this.langForm.patchValue({lang:"\u0639\u0631\u0628\u064A"}),a.src="currencies/egypt-flag.svg";break;case"ltr":r.innerText="English",this.langForm.patchValue({lang:"English"}),a.src="currencies/usa-flag.svg";break}this.store.select(B).subscribe(u=>{document.documentElement.setAttribute("dir",u)})}static{this.\u0275fac=function(r){return new(r||e)(g(A),g(f),g(m),g(h),g(E),g(m))}}static{this.\u0275cmp=p({type:e,selectors:[["app-languages-dropdown"]],standalone:!0,features:[S([m]),b],decls:24,vars:1,consts:[[1,"relative","p-2","text-gray-600","duration-200","cursor-pointer","lg:overflow-hidden","group/menu","hover:overflow-visible","trnasitio","hover:bg-gray-200","lg:-order-1","lg:hover:bg-transparent","hover:text-main-solid"],[1,"flex","items-center","justify-between","w-full","gap-2"],["loading","lazy","id","selected-lang-img","src","currencies/usa-flag.svg","alt","egypt flag",1,"w-7"],["id","selected-lang"],[1,"duration-200","pi","pi-angle-down","group-hover/menu:rotate-180"],[1,"absolute","w-32","py-2","duration-200","delay-75","translate-y-5","border-t-2","hidden","opacity-0","ltr:right-0","rtl:left-0","border-main-solid","group-hover/menu:translate-y-0","group-hover/menu:block","group-hover/menu:opacity-100","top-full","bg-gray-50","rounded-b-md"],[3,"change","formGroup"],[1,"duration-200","bg-gray-50","hover:bg-gray-200","hover:font-bold"],["type","radio","id","english","formControlName","lang","value","en",1,"hidden","peer/lang"],["for","english",1,"flex","items-center","w-full","gap-2","p-2","duration-200","cursor-pointer","peer-checked/lang:text-main-solid","peer-checked/lang:font-bold"],["loading","lazy","src","currencies/usa-flag.svg","alt","egypt flag",1,"w-7"],["type","radio","id","arabic","formControlName","lang","value","ar",1,"hidden","peer/lang"],["for","arabic",1,"flex","items-center","w-full","gap-2","p-2","duration-200","cursor-pointer","peer-checked/lang:text-main-solid","peer-checked/lang:font-bold"],["loading","lazy","src","currencies/egypt-flag.svg","alt","egypt flag",1,"w-7"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"a",1)(2,"span"),c(3,"img",2),s(),n(4,"span",3),d(5,"English"),s(),c(6,"i",4),s(),n(7,"div",5)(8,"form",6),L("change",function(){return a.changeLang()}),n(9,"ul")(10,"li",7),c(11,"input",8),n(12,"label",9)(13,"span"),c(14,"img",10),s(),n(15,"span"),d(16,"English"),s()()(),n(17,"li",7),c(18,"input",11),n(19,"label",12)(20,"span"),c(21,"img",13),s(),n(22,"span"),d(23,"\u0639\u0631\u0628\u064A"),s()()()()()()()),r&2&&(v(8),y("formGroup",a.langForm))},dependencies:[O,D,_,C,x,I,N,F,R]})}}return e})();export{ge as a};
