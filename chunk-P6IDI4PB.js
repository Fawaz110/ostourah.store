import{a as f,b as y}from"./chunk-GIUONTZ4.js";import{a as l}from"./chunk-H47L23GT.js";import{l as d}from"./chunk-UPVS7NE6.js";import{S as m,ca as u}from"./chunk-4ZAGXY36.js";import{Ba as p}from"./chunk-IAZM3ENT.js";import{Hb as c,Ua as s,gb as r,gc as a,ua as n}from"./chunk-4SNW6VHE.js";var U=(()=>{class o{constructor(t,e,i,h){this.platformId=t,this.store=e,this.cookieService=i,this.router=h}decrypt(t){try{let e=CryptoJS.AES.decrypt(t,f.TokenSecretKey);return JSON.parse(e.toString(CryptoJS.enc.Utf8))}catch(e){return console.error("Token decryption failed:",e),null}}manageUserToken(){this.store.select(l).subscribe(t=>{let e=this.cookieService.get("userToken");(e?this.decrypt(e):null)!=null&&this.router.navigate(["/home"])})}ngOnInit(){p(this.platformId)&&this.manageUserToken()}static{this.\u0275fac=function(e){return new(e||o)(r(s),r(d),r(y),r(u))}}static{this.\u0275cmp=n({type:o,selectors:[["app-auth-layout"]],standalone:!0,features:[a],decls:1,vars:0,template:function(e,i){e&1&&c(0,"router-outlet")},dependencies:[m]})}}return o})();export{U as AuthLayoutComponent};
