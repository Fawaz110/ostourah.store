import{a as k}from"./chunk-6Y3YQPSC.js";import{b as T,c as B,e as F,f as j,h as P,j as A,k as N,l as D,m as M,n as G}from"./chunk-JEB2BSX2.js";import{a as V}from"./chunk-EB42JTE5.js";import"./chunk-E7LQUBD3.js";import{W as I,X as C}from"./chunk-I6UTEODU.js";import"./chunk-JPM7ZRFP.js";import"./chunk-NMGI7OHJ.js";import{c as E,d as R}from"./chunk-OYDM5OEP.js";import{aa as y}from"./chunk-TRTIGX42.js";import{Dc as o,Ec as a,Gb as S,Lb as u,Sb as e,Tb as t,Ub as f,ca as v,dc as b,i as g,nc as i,oc as c,pb as n,pc as w,qb as p,va as x,vc as _,zb as m}from"./chunk-K2EQSHJF.js";function L(s,q){s&1&&f(0,"i",24)}var te=(()=>{class s{constructor(r,l,d,h){this._FormBuilder=r,this._AuthService=l,this._ToastrService=d,this._Router=h,this.load=m(!1)}submit(){this.load=m(!0),this.form.status=="VALID"?this._AuthService.forgotPassword(this.form.value.phone).pipe(v(r=>{console.log(this.form.value),console.log("reset code: ",r.data.resetCode),this._AuthService.phone=this.form.value.phone,this._AuthService.activateCode=r.data.resetCode,this.load=m(!1),this._Router.navigate(["/reset-code"])})).subscribe(g,r=>{this.load=m(!1),this._ToastrService.error(r.error.message)}):(this._ToastrService.error(localStorage.getItem("lang")=="en"?"Phone field is required":"\u062E\u0627\u0646\u0629 \u0627\u0644\u0647\u0627\u062A\u0641 \u0645\u0637\u0644\u0648\u0628\u0629"),this.load=m(!1))}ngOnInit(){this.form=this._FormBuilder.group({phone:["",[B.required]]})}static{this.\u0275fac=function(l){return new(l||s)(p(D),p(k),p(V),p(I))}}static{this.\u0275cmp=x({type:s,selectors:[["app-reset-password"]],standalone:!0,features:[_],decls:40,vars:20,consts:[[1,"min-h-screen","flex","items-center"],[1,"container","mx-auto"],[1,"inner","flex","justify-center"],["wow-data-duration","1.5s",1,"w-full","lg:w-1/3","rounded-md","lg:border","lg:shadow-md","lg:hover:shadow-main-lighter","lg:hover:border-main-solid","duration-200","p-5","wow","fadeIn"],[1,"heading","mb-5","flex","items-center","gap-2"],["loading","lazy","src","logo.png","alt","logo",1,"w-14"],[1,"content"],[1,"text-3xl","font-extrabold","text-main-solid"],[1,"text-lg","font-thin","text-main-light"],[1,"form"],[3,"ngSubmit","formGroup"],[1,"form-control","mb-3","red"],["for","phone"],["id","phone","formControlName","phone","type","text",3,"placeholder"],[1,"hint"],[1,"text-main-solid","font-extrabold"],[1,"text-sm","ms-2","text-main-light"],[1,"btn-main","w-full","mt-5","rounded-md","flex","items-center","gap-2","justify-center"],["class","pi pi-spinner animate-spin",4,"ngIf"],[1,"my-3","flex","justify-center","items-center","text-center","relative","before:w-1/2","before:rounded-full","before:absolute","before:h-0.5","before:bg-main-light"],[1,"bg-white","relative","z-10","p-1"],[1,"inner","rounded-full","bg-main-solid","text-gray-50","w-7","text-sm","flex","items-center","justify-center","h-7"],[1,"block","text-center"],["routerLink","/sign-in",1,"text-main-solid","underline","cursor-pointer","hover:text-main-light","duration-200"],[1,"pi","pi-spinner","animate-spin"]],template:function(l,d){l&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),f(5,"img",5),e(6,"div",6)(7,"h2",7),i(8,"Reset Password"),t(),e(9,"span",8),i(10,"To access your account"),t()()(),e(11,"div",9)(12,"form",10),b("ngSubmit",function(){return d.submit()}),e(13,"div",11)(14,"label",12),i(15),o(16,"translate"),t(),f(17,"input",13),o(18,"translate"),t(),e(19,"div",14)(20,"span",15),i(21,"*"),t(),e(22,"span",16),i(23),o(24,"translate"),t()(),e(25,"button",17),i(26),o(27,"translate"),S(28,L,1,0,"i",18),t()(),e(29,"span",19)(30,"span",20)(31,"span",21),i(32,"Or"),t()()(),e(33,"span",22)(34,"span"),i(35),o(36,"translate"),t(),e(37,"a",23),i(38),o(39,"translate"),t()()()()()()()),l&2&&(n(12),u("formGroup",d.form),n(3),c(a(16,8,"account.phone")),n(2),u("placeholder",a(18,10,"account.phone-placeholder")),n(6),c(a(24,12,"account.reset-hint")),n(3),w("",a(27,14,"account.reset-pass")," "),n(2),u("ngIf",d.load()),n(7),c(a(36,16,"account.no-access-message")),n(3),c(a(39,18,"account.login-manually")))},dependencies:[M,P,T,F,j,G,A,N,C,R,E,y]})}}return s})();export{te as ResetPasswordComponent};
