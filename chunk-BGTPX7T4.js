import{a as O}from"./chunk-JJEGWYOI.js";import{a as D}from"./chunk-LXQL3H3V.js";import{a as L}from"./chunk-KNR6RNH7.js";import{a as M}from"./chunk-EB42JTE5.js";import"./chunk-NB3MO2E5.js";import"./chunk-L4FLERUP.js";import"./chunk-E7LQUBD3.js";import{X as B}from"./chunk-I6UTEODU.js";import"./chunk-JPM7ZRFP.js";import"./chunk-NMGI7OHJ.js";import{c as V,d as P}from"./chunk-OYDM5OEP.js";import{$ as j,Ba as F,Y as k}from"./chunk-TRTIGX42.js";import{Dc as d,Ec as c,Ga as v,Gb as b,Ha as _,Lb as o,Rb as I,Sb as i,Tb as n,Ub as m,Va as w,Yb as y,ca as g,dc as C,ec as u,i as f,kb as E,nc as l,oc as p,pb as r,pc as W,qb as x,va as S,vc as T}from"./chunk-K2EQSHJF.js";function N(s,h){if(s&1){let e=y();i(0,"tr")(1,"td",11)(2,"div",12)(3,"button",13),C("click",function(){let a=v(e).$implicit,$=u(2);return _($.deleteItem(a.id))}),m(4,"i",14),n()()(),i(5,"td",15)(6,"div",16)(7,"figure",17),m(8,"img",18),n(),i(9,"div",19)(10,"h5",20),l(11),n(),i(12,"div",21)(13,"div",22),m(14,"i",23),i(15,"span",24),l(16),n()()(),i(17,"div",25)(18,"div",26)(19,"span"),l(20,"Camera"),n()(),i(21,"div",26)(22,"span"),l(23,"Videos"),n()()()()()(),i(24,"td",11)(25,"span",24),l(26),n()(),i(27,"td",11)(28,"p",27),l(29,"In Stock"),n()(),i(30,"td",28)(31,"button",29),m(32,"i",30),n()()()}if(s&2){let e=h.$implicit,t=h.last;r(),o("ngClass",t?"border-b":""),r(4),o("ngClass",t?"border-b":""),r(3),o("src",e.coverImage,E)("alt",e.title),r(2),o("routerLink","/product/description/"+e.id),r(),p(e.title),r(5),p(e.rate),r(8),o("ngClass",t?"border-b":""),r(2),W("$",e.price,""),r(),o("ngClass",t?"border-b":""),r(3),o("ngClass",t?"border-b":"")}}function R(s,h){if(s&1){let e=y();i(0,"div",4)(1,"table",6)(2,"thead")(3,"tr")(4,"th"),l(5),d(6,"translate"),n(),i(7,"th",7),l(8),d(9,"translate"),n(),i(10,"th"),l(11),d(12,"translate"),n(),i(13,"th"),l(14),d(15,"translate"),n(),m(16,"th",8),n()(),i(17,"tbody"),b(18,N,33,11,"tr",9),n()(),i(19,"button",10),C("click",function(){v(e);let a=u();return _(a.clearWishlist())}),l(20,"Clear Wishlist"),n()()}if(s&2){let e=u();r(5),p(c(6,5,"cart.remove")),r(3),p(c(9,7,"products.product-name")),r(3),p(c(12,9,"products.price")),r(3),p(c(15,11,"cart.status")),r(4),o("ngForOf",e.wishlistItems)}}function U(s,h){s&1&&(i(0,"p",5),l(1,"Sorry! your wishlist is empty"),n())}var ie=(()=>{class s{constructor(e,t,a){this.platformId=e,this._WishlistService=t,this._ToastrService=a,this.wishlistItems=[]}ngOnInit(){F(this.platformId)&&(document.documentElement.scrollTop=0,document.body.scrollTop=0),this.getWishlistItems()}clearWishlist(){let e=[...this.wishlistItems];this.wishlistItems=[],e.forEach(t=>{this.deletePermenantly(t.id)})}deleteItem(e){for(let t=0;t<this.wishlistItems.length;t++)this.wishlistItems[t].id===e&&(this.wishlistItems.splice(t,1),this._ToastrService.success(localStorage.getItem("lang")?.includes("en")?"Item deleted successfully":"\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631 \u0645\u0646 \u0627\u0644\u0645\u0641\u0636\u0644\u0629"));this.deletePermenantly(e)}deletePermenantly(e){this._WishlistService.deleteFromWishlist(e).pipe(g(t=>{})).subscribe(f,t=>console.log(t))}getWishlistItems(){this._WishlistService.getWishlist().pipe(g(e=>{this.wishlistItems=e.data.wishlist})).subscribe(f,e=>console.log(e))}static{this.\u0275fac=function(t){return new(t||s)(x(w),x(L),x(M))}}static{this.\u0275cmp=S({type:s,selectors:[["app-wishlist"]],standalone:!0,features:[T],decls:10,vars:5,consts:[[3,"title"],[1,"container","mx-auto","p-2"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"inner","p-5","rounded-md","border","border-main-lighter","overflow-y-auto"],[1,"text-center","text-3xl","my-5","text-main-solid"],[1,"w-full","text-center","mb-3"],["colspan","4"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"btn-main","max-sm:w-full",3,"click"],[1,"border-main-lighter","p-3",3,"ngClass"],[1,"flex","items-center","justify-center"],[1,"flex","gap-2","items-center","justify-center","px-4","py-2","text-xl","text-main-solid","hover:text-main-light","duration-200",3,"click"],[1,"pi","pi-trash","text-xl"],["colspan","4",1,"border-main-lighter","p-3",3,"ngClass"],[1,"flex","gap-2","items-stretch","justify-center","text-start"],[1,"p-2","border","min-w-16","flex","items-center","justify-center","border-main-lighter","rounded-md"],[1,"w-full",3,"src","alt"],[1,"product-info"],[1,"text-xl","font-bold","mb-3","cursor-pointer","hover:text-main-light","duration-200",3,"routerLink"],[1,"more-info","flex","items-center","gap-5","mb-3"],[1,"rate","flex","items-center","gap-2"],[1,"pi","pi-star-fill","text-yellow-500"],[1,"text-lg","font-semibold"],[1,"categories","flex","items-center","gap-2"],[1,"bg-main-lighter","p-2","rounded-md"],[1,"text-xl"],["colspan","2",1,"border-main-lighter","p-3",3,"ngClass"],[1,"btn-main","flex","items-center","justify-center"],[1,"pi","pi-shopping-cart","mx-2","text-xl"]],template:function(t,a){t&1&&(i(0,"section"),m(1,"app-banner",0),d(2,"translate"),i(3,"div",1)(4,"div",2)(5,"div",3),b(6,R,21,13,"div",4)(7,U,2,0,"p",5),n(),i(8,"div",3),m(9,"app-why-us"),n()()()()),t&2&&(r(),o("title",c(2,3,"global.Wishlist")),r(5),I(a.wishlistItems.length>0?6:-1),r(),I(a.wishlistItems.length==0?7:-1))},dependencies:[D,j,k,B,O,P,V]})}}return s})();export{ie as WishlistComponent};
