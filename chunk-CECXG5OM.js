import{a as U,b as $}from"./chunk-ZXO3SX4P.js";import{a as W}from"./chunk-JXTG5ZJK.js";import{a as P}from"./chunk-XLXKMNED.js";import"./chunk-JTBU7AEF.js";import{a as q}from"./chunk-K4HR3HD6.js";import"./chunk-6D33ZJVQ.js";import{a as G}from"./chunk-RFMH7JZO.js";import{b as D,c,e as O,f as V,h as k,j,k as w,l as R,m as A,n as L}from"./chunk-RWPWEADW.js";import"./chunk-5YQQEXEO.js";import"./chunk-E7LQUBD3.js";import"./chunk-WSAW2S45.js";import"./chunk-ZZ4TVKJ3.js";import{X as M}from"./chunk-GBURKEHO.js";import"./chunk-SQCQW5LJ.js";import{c as N,d as T}from"./chunk-YRDZDYCR.js";import{$ as E,Ba as _}from"./chunk-24Y6DEMT.js";import{Gb as S,Gc as a,Hc as o,Lb as p,Sb as C,Tb as B,Ub as F,Va as g,Vb as e,Wb as t,Xb as m,ca as x,i as h,pb as r,qb as f,qc as n,rc as s,sc as v,va as b,yc as I}from"./chunk-YL2HPNIQ.js";function H(d,y){d&1&&(e(0,"div",18)(1,"div",27)(2,"span"),n(3),a(4,"translate"),t(),e(5,"div",28),m(6,"i",29),e(7,"span"),n(8,"10"),t()()(),e(9,"span",30),n(10,"$250"),t()()),d&2&&(r(3),s(o(4,1,"hp")))}function J(d,y){if(d&1&&(e(0,"div",31),m(1,"p-radioButton",32),e(2,"label",33),n(3),a(4,"translate"),t()()),d&2){let i=y.$implicit;r(),p("inputId",i.id)("value",i.id),r(),p("for",i.id),r(),s(o(4,4,"payment."+i.id))}}var ce=(()=>{class d{constructor(i,l,u,z){this._PLATFORM_ID=i,this._FormBuilder=l,this._UserService=u,this._CartService=z,this.taxes="",this.paymentMethods=[{id:"bank-transfer",label:"Bank Transfer"},{id:"cash-on-delivery",label:"Cash on delivery"}]}ngOnInit(){_(this._PLATFORM_ID)&&(document.documentElement.scrollTop=0,document.body.scrollTop=0),this.buildForm(),this.getCart(),this.getMainAddress()}buildForm(){this.form=this._FormBuilder.group({paymentMethod:["",[c.required]],name:["",[c.required]],email:["",[c.required,c.email]],phone:["",[c.required]],address:["",[c.required]]})}getCart(){this._CartService.getCart().pipe(x(i=>{this.cart=i.data.cart})).subscribe(h,i=>console.log(i))}getMainAddress(){this._UserService.getProfile().pipe(x(i=>{this.setFormControlValue("name",i.data.user.name),this.setFormControlValue("email",i.data.user.email),this.setFormControlValue("phone",i.data.user.phone),this.setFormControlValue("paymentMethod",this.paymentMethods[0].id);for(let l of i.data.user.address)if(l.main){this.setFormControlValue("address",l.address);break}})).subscribe(h,i=>console.log(i))}setFormControlValue(i,l){this.form.get(i)?.setValue(l)}static{this.\u0275fac=function(l){return new(l||d)(f(g),f(R),f(W),f(P))}}static{this.\u0275cmp=b({type:d,selectors:[["app-order-details"]],standalone:!0,features:[I],decls:65,vars:41,consts:[[1,"block","w-full",3,"formGroup"],[3,"title"],[1,"container","mx-auto","p-2"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-9"],[1,"inner","p-5"],[1,"form-control","col-span-12"],["type","text","formControlName","name","id","name",1,"text-start",3,"placeholder"],[1,"form-control","col-span-12","md:col-span-6"],["type","text","formControlName","phone","id","phone",1,"text-start",3,"placeholder"],["type","text","formControlName","email","id","email",1,"text-start",3,"placeholder"],["id","additional","formControlName","address",3,"placeholder"],[1,"col-span-12","md:col-span-3"],[1,"text-xl","font-bold","mb-5","bg-main-lighter","text-center","text-main-solid","py-5","rounded-md"],[1,"p-5","my-5","rounded-md","border","border-main-lighter"],[1,"flex","justify-between","items-center","text-xl","text-main-solid","font-bold","mb-5","pb-5","border-b","border-main-lighter"],[1,"text-main-solid","rounded-md"],[1,"border-b","border-main-lighter","mb-5"],[1,"text-lg","font-thin","flex","items-center","justify-between","gap-5","my-5"],[1,"footer","font-bold","text-main-solid","space-y-5"],[1,"inner","flex","items-center","justify-between","text-xl"],[1,"payment-method","my-5","pb-5","border-b","border-main-lighter"],["class","flex items-center gap-2 my-2",4,"ngFor","ngForOf"],[1,"my-5","text-main-light"],["routerLink","/policy",1,"text-main-solid","hover:text-main-light","underline","cursor-pointer"],["routerLink","/payment/success",1,"btn-main","w-full","rounded-md"],[1,"col-span-12"],[1,"product-info","flex","items-center"],[1,"flex","items-center","gap-1","font-bold"],[1,"pi","pi-times"],[1,"font-bold"],[1,"flex","items-center","gap-2","my-2"],["formControlName","paymentMethod",3,"inputId","value"],[1,"cursor-pointer",3,"for"]],template:function(l,u){l&1&&(e(0,"section")(1,"form",0),m(2,"app-banner",1),a(3,"translate"),e(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",3)(9,"div",6),m(10,"input",7),a(11,"translate"),t(),e(12,"div",8),m(13,"input",9),a(14,"translate"),t(),e(15,"div",8),m(16,"input",10),a(17,"translate"),t(),e(18,"div",6),m(19,"textarea",11),a(20,"translate"),t()()()(),e(21,"div",12)(22,"div",5)(23,"h3",13),n(24),a(25,"translate"),t(),e(26,"div",14)(27,"h3",15)(28,"span"),n(29),a(30,"translate"),t(),e(31,"span"),n(32),a(33,"translate"),t()(),e(34,"div",16)(35,"div",17),B(36,H,11,3,"div",18,C),t(),e(38,"div",19)(39,"div",20)(40,"h3"),n(41),a(42,"translate"),t(),e(43,"span"),n(44,"$859.00"),t()(),e(45,"div",20)(46,"h3"),n(47),a(48,"translate"),t(),e(49,"span"),n(50,"$859.00"),t()()()()(),e(51,"div",21),S(52,J,5,6,"div",22),t(),e(53,"p",23),n(54),a(55,"translate"),e(56,"span",24),n(57),a(58,"translate"),t(),n(59,"."),t(),e(60,"button",25),n(61),a(62,"translate"),t()()(),e(63,"div",26),m(64,"app-why-us"),t()()()()()),l&2&&(r(),p("formGroup",u.form),r(),p("title",o(3,15,"cart.checkout")),r(8),p("placeholder",o(11,17,"account.fullName")),r(3),p("placeholder",o(14,19,"account.phone-placeholder")),r(3),p("placeholder",o(17,21,"account.email-placeholder")),r(3),p("placeholder",o(20,23,"account.address")),r(5),v(" ",o(25,25,"account.your-order"),""),r(5),s(o(30,27,"products.one")),r(3),s(o(33,29,"cart.subtotal")),r(4),F(u.cart.cartItems),r(5),s(o(42,31,"cart.subtotal")),r(6),s(o(48,33,"cart.total")),r(5),p("ngForOf",u.paymentMethods),r(2),v("",o(55,35,"privacy.prev-string")," "),r(3),s(o(58,37,"privacy.title")),r(4),v(" ",o(62,39,"payment.place-order")," "))},dependencies:[q,G,T,N,A,k,D,O,V,L,j,w,M,$,U,E]})}}return d})();export{ce as OrderDetailsComponent};
