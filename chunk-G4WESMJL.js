import{a as V}from"./chunk-LXQL3H3V.js";import{b as W,e as j,g as A,i as L,l as N,m as D}from"./chunk-JEB2BSX2.js";import{a as U}from"./chunk-AJ7EYYR6.js";import{b as z}from"./chunk-HATCFJ43.js";import"./chunk-KNR6RNH7.js";import"./chunk-EB42JTE5.js";import"./chunk-NB3MO2E5.js";import"./chunk-L4FLERUP.js";import"./chunk-E7LQUBD3.js";import"./chunk-I6UTEODU.js";import"./chunk-JPM7ZRFP.js";import"./chunk-NMGI7OHJ.js";import{c as k,d as F}from"./chunk-OYDM5OEP.js";import{$ as B,aa as x}from"./chunk-TRTIGX42.js";import{Dc as p,Ec as c,Gb as M,Lb as l,Ra as I,Sb as i,Tb as a,Ub as g,ca as S,dc as f,ec as O,i as b,nc as h,oc as _,pb as n,pc as R,qb as m,rc as C,sc as v,tc as y,va as P,vc as E,wb as T,zb as u}from"./chunk-K2EQSHJF.js";function q(o,w){if(o&1&&(i(0,"div",18),g(1,"app-card-item",19),a()),o&2){let t=w.$implicit;n(),l("product",t)}}function G(o,w){o&1&&g(0,"i",23)}function H(o,w){if(o&1&&(i(0,"div",20)(1,"button",21),h(2),p(3,"translate"),M(4,G,1,0,"i",22),a()()),o&2){let t=O();n(2),R(" ",c(3,2,"products.view-more")," "),n(2),l("ngIf",t.load())}}var re=(()=>{class o{constructor(t,d,e,s){this._ElementRef=t,this._Renderer2=d,this._FormBuilder=e,this._ProductService=s,this.load=u(!1),this.sortingOption=void 0,this.products=[]}ngOnInit(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.getAll(1)}sortingChanged(){this.getAll(1,this.sortingOption)}seeMore(){this.getAll(this.pagination.currentPage+1)}toggleSortingMenu(){let t=this._ElementRef.nativeElement.querySelector("#sorting-options-menu");console.log(!0),t.classList.contains("hidden")?(this._Renderer2.addClass(t,"opacity-0"),this._Renderer2.removeClass(t,"hidden"),setTimeout(()=>{this._Renderer2.removeClass(t,"opacity-0"),this._Renderer2.removeClass(t,"translate-y-4"),this._Renderer2.addClass(t,"translate-y-2")},10)):(this._Renderer2.addClass(t,"opacity-0"),this._Renderer2.removeClass(t,"translate-y-2"),this._Renderer2.addClass(t,"translate-y-4"),setTimeout(()=>{this._Renderer2.removeClass(t,"opacity-0"),this._Renderer2.addClass(t,"hidden")},200))}getAll(t=1,d=void 0){this.load=u(!0),this._ProductService.getAll(d,t).pipe(S(e=>{this.load=u(!1),this.products.push(...e.data.products),this.pagination=e.data.pagination})).subscribe(b,e=>{this.load=u(!1),console.log(e)})}static{this.\u0275fac=function(d){return new(d||o)(m(I),m(T),m(N),m(U))}}static{this.\u0275cmp=P({type:o,selectors:[["app-products"]],standalone:!0,features:[E],decls:29,vars:20,consts:[[1,"relative"],[3,"title"],[1,"p-2"],[1,"filteration","mb-2","flex","gap-5","items-center"],[1,"relative","size-10","rounded-full","border","border-main-light","text-main-solid","text-xl",3,"click"],[1,"pi","pi-filter"],["id","sorting-options-menu",1,"rounded-md","bg-white","shadow-md","overflow-hidden","absolute","z-50","top-full","rtl:right-0","ltr:left-0","translate-y-4","hidden","duration-200","w-40","border","border-main-lighter","text-main-light","text-start"],[1,"hover:bg-main-lighter","hover:bg-opacity-50","duration-100"],["type","radio","id","recent",1,"hidden","peer/option",3,"ngModelChange","ngModel","value"],["for","recent",1,"peer-checked/option:text-main-solid","block","p-2","w-full"],["type","radio","id","rate",1,"hidden","peer/option",3,"ngModelChange","ngModel","value"],["for","rate",1,"peer-checked/option:text-main-solid","block","p-2","w-full"],["type","radio","id","sale",1,"hidden","peer/option",3,"ngModelChange","ngModel","value"],["for","sale",1,"peer-checked/option:text-main-solid","block","p-2","w-full"],[1,"flex","items-center","justify-center"],[1,"grid","grid-cols-12","gap-10","md:gap-5","sm:gap-5"],["class","col-span-12 md:col-span-4 lg:col-span-3 wow bounceInUp","data-wow-duration","1s","data-wow-delay","0s",4,"ngFor","ngForOf"],["class","col-span-12 inline-flex items-center justify-center",4,"ngIf"],["data-wow-duration","1s","data-wow-delay","0s",1,"col-span-12","md:col-span-4","lg:col-span-3","wow","bounceInUp"],[3,"product"],[1,"col-span-12","inline-flex","items-center","justify-center"],[1,"btn-main","flex","items-center","justify-center","gap-2"],["class","pi pi-spinner animate-spin",4,"ngIf"],[1,"pi","pi-spinner","animate-spin"]],template:function(d,e){d&1&&(i(0,"section",0),g(1,"app-banner",1),p(2,"translate"),i(3,"div",2)(4,"div",3)(5,"button",4),f("click",function(){return e.toggleSortingMenu()}),i(6,"span"),g(7,"i",5),a(),i(8,"div",6)(9,"ul")(10,"li",7)(11,"input",8),y("ngModelChange",function(r){return v(e.sortingOption,r)||(e.sortingOption=r),r}),f("ngModelChange",function(){return e.sortingChanged()}),a(),i(12,"label",9),h(13),p(14,"translate"),a()(),i(15,"li",7)(16,"input",10),y("ngModelChange",function(r){return v(e.sortingOption,r)||(e.sortingOption=r),r}),f("ngModelChange",function(){return e.sortingChanged()}),a(),i(17,"label",11),h(18),p(19,"translate"),a()(),i(20,"li",7)(21,"input",12),y("ngModelChange",function(r){return v(e.sortingOption,r)||(e.sortingOption=r),r}),f("ngModelChange",function(){return e.sortingChanged()}),a(),i(22,"label",13),h(23),p(24,"translate"),a()()()()()(),i(25,"div",14)(26,"div",15),M(27,q,2,1,"div",16)(28,H,5,4,"div",17),a()()()()),d&2&&(n(),l("title",c(2,12,"products.title")),n(10),C("ngModel",e.sortingOption),l("value",void 0),n(2),_(c(14,14,"products.recent-added")),n(3),C("ngModel",e.sortingOption),l("value","-rateCount"),n(2),_(c(19,16,"products.rate-count")),n(3),C("ngModel",e.sortingOption),l("value","-numberOfSale"),n(2),_(c(24,18,"products.number-of-sale")),n(4),l("ngForOf",e.products),n(),l("ngIf",(e.pagination==null?null:e.pagination.currentPage)!=(e.pagination==null?null:e.pagination.numbersOfPages)))},dependencies:[z,V,F,k,D,W,L,j,A,B,x]})}}return o})();export{re as ProductsComponent};
