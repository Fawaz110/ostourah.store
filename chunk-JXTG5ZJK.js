import{a as n}from"./chunk-E7LQUBD3.js";import{a as u}from"./chunk-WSAW2S45.js";import{l as h}from"./chunk-ZZ4TVKJ3.js";import{b as g}from"./chunk-SQCQW5LJ.js";import{ca as i,i as a,ia as p,oa as c}from"./chunk-YL2HPNIQ.js";var I=(()=>{class s{constructor(o,t){this._HttpClient=o,this._Store=t,this.authorization$=this._Store.select(u)}getProfile(){let o="";this.authorization$.pipe(i(e=>o=e.token)).subscribe(a,e=>console.log(e));let t=localStorage.getItem("lang");return this._HttpClient.get(n.baseUrl+"user/getProfile",{headers:{Authorization:"Bearer "+o,lang:t}})}updateProfile(o){let t="";return this.authorization$.pipe(i(e=>t=e.token)).subscribe(a,e=>console.log(e)),this._HttpClient.patch(n.baseUrl+"user/updateProfile",o,{headers:{Authorization:"Bearer "+t,lang:localStorage.getItem("lang")||"en"}})}updateProfileImage(o){let t=new FormData;t.append("profileImg",o);let e="";this.authorization$.pipe(i(l=>e=l.token)).subscribe(a,l=>console.log(l));let r=localStorage.getItem("lang");return this._HttpClient.patch(n.baseUrl+"user/updateImage",t,{headers:{Authorization:"Bearer "+e,lang:r,enctype:"multipart/form-data"}})}changePassword(o){let t="";this.authorization$.pipe(i(r=>t=r.token)).subscribe(a,r=>console.log(r));let e=localStorage.getItem("lang");return this._HttpClient.patch(n.baseUrl+"user/changePassword",o,{headers:{lang:e,Authorization:"Bearer "+t}})}addAddress(o){let t="";this.authorization$.pipe(i(r=>t=r.token)).subscribe(a,r=>console.log(r));let e=localStorage.getItem("lang");return this._HttpClient.post(n.baseUrl+"user/address",o,{headers:{Authorization:"Bearer "+t,lang:e}})}removeAddress(){let o="";this.authorization$.pipe(i(e=>o=e.token)).subscribe(a,e=>console.log(e));let t=localStorage.getItem("lang");return this._HttpClient.delete(n.baseUrl+"user/address",{headers:{Authorization:"Bearer "+o,lang:t}})}static{this.\u0275fac=function(t){return new(t||s)(c(g),c(h))}}static{this.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{I as a};
