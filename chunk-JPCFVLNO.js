import{a as y}from"./chunk-JOHXSRUU.js";import{a as l}from"./chunk-FYG3A6Z3.js";import{b as f}from"./chunk-NB3MO2E5.js";import{l as d}from"./chunk-L4FLERUP.js";import{K as m,W as u}from"./chunk-I6UTEODU.js";import"./chunk-JPM7ZRFP.js";import{Ba as p}from"./chunk-TRTIGX42.js";import{Ub as c,Va as s,qb as r,va as n,vc as a}from"./chunk-K2EQSHJF.js";var U=(()=>{class o{constructor(t,e,i,h){this.platformId=t,this.store=e,this.cookieService=i,this.router=h}decrypt(t){try{let e=CryptoJS.AES.decrypt(t,y.TokenSecretKey);return JSON.parse(e.toString(CryptoJS.enc.Utf8))}catch(e){return console.error("Token decryption failed:",e),null}}manageUserToken(){this.store.select(f).subscribe(t=>{let e=this.cookieService.get("userToken");(e?this.decrypt(e):null)!=null&&this.router.navigate(["/home"])})}ngOnInit(){p(this.platformId)&&this.manageUserToken()}static{this.\u0275fac=function(e){return new(e||o)(r(s),r(d),r(l),r(u))}}static{this.\u0275cmp=n({type:o,selectors:[["app-auth-layout"]],standalone:!0,features:[a],decls:1,vars:0,template:function(e,i){e&1&&c(0,"router-outlet")},dependencies:[m]})}}return o})();export{U as AuthLayoutComponent};
