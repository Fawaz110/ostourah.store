import{c as y,d as D}from"./chunk-Z5E3ILZ7.js";import{Ba as b,aa as w}from"./chunk-X3BFDEXP.js";import{Eb as r,Fb as a,Qc as d,Rb as I,Ta as x,Zb as o,_b as v,ac as m,eb as i,fb as u,fc as T,nb as g,nc as s,oc as l,ta as c,ub as h,zb as f}from"./chunk-3KPRBS5G.js";function C(e,E){if(e&1&&(r(0,"div",2)(1,"span",3)(2,"span",4),o(3),s(4,"translate"),a()(),r(5,"span",3)(6,"span",4),o(7),s(8,"translate"),a()(),r(9,"span",3)(10,"span",4),o(11),s(12,"translate"),a()(),r(13,"span",3)(14,"span",4),o(15),s(16,"translate"),a()()()),e&2){let t=I();i(3),m("",t.days()," ",l(4,8,"global.days"),""),i(4),m("",t.hours()," ",l(8,10,"global.hours"),""),i(4),m("",t.minutes()," ",l(12,12,"global.minutes"),""),i(4),m("",t.seconds()," ",l(16,14,"global.seconds"),"")}}function M(e,E){e&1&&(r(0,"div",5)(1,"span",6),o(2),s(3,"translate"),a()()),e&2&&(i(2),v(l(3,1,"global.offer-expire")))}var A=(()=>{class e{constructor(t){this.platformId=t,this.remainingTime=g(0),this.days=d(()=>Math.floor(this.remainingTime()/(1e3*60*60*24))),this.hours=d(()=>Math.floor(this.remainingTime()%(1e3*60*60*24)/(1e3*60*60))),this.minutes=d(()=>Math.floor(this.remainingTime()%(1e3*60*60)/(1e3*60))),this.seconds=d(()=>Math.floor(this.remainingTime()%(1e3*60)/1e3)),this.isOfferExpired=d(()=>this.offerEndDate?this.remainingTime()<=0:!0)}ngOnInit(){b(this.platformId)&&this.startCountdown()}startCountdown(){let t=new Date(this.offerEndDate).getTime();this.timerId=setInterval(()=>{let n=new Date().getTime(),p=t-n;p<=0?(this.remainingTime.set(0),clearInterval(this.timerId)):this.remainingTime.set(p)},1e3)}ngOnDestroy(){this.timerId&&clearInterval(this.timerId)}static{this.\u0275fac=function(n){return new(n||e)(u(x))}}static{this.\u0275cmp=c({type:e,selectors:[["app-timer"]],inputs:{offerEndDate:"offerEndDate"},standalone:!0,features:[T],decls:2,vars:2,consts:[["class","flex flex-wrap items-center ltr:flex-row rtl:flex-row-reverse w-full gap-2 text-gray-950",4,"ngIf"],["class","flex flex-col items-center justify-center w-full py-4 bg-red-100 border border-red-300 rounded-md",4,"ngIf"],[1,"flex","flex-wrap","items-center","ltr:flex-row","rtl:flex-row-reverse","w-full","gap-2","text-gray-950"],[1,"text-nowrap"],[1,"inline-block","p-2","border","rounded-md","border-main-solid","bg-gray-50"],[1,"flex","flex-col","items-center","justify-center","w-full","py-4","bg-red-100","border","border-red-300","rounded-md"],[1,"text-xl","font-semibold","text-red-700"]],template:function(n,p){n&1&&h(0,C,17,16,"div",0)(1,M,4,3,"div",1),n&2&&(f("ngIf",!p.isOfferExpired()),i(),f("ngIf",p.isOfferExpired()))},dependencies:[w,D,y]})}}return e})();export{A as a};
