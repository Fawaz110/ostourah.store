import{a as y}from"./chunk-JOHXSRUU.js";import{a as f}from"./chunk-3F6E25MF.js";import{b as l}from"./chunk-WSAW2S45.js";import{l as d}from"./chunk-ZZ4TVKJ3.js";import{K as m,W as u}from"./chunk-GBURKEHO.js";import"./chunk-SQCQW5LJ.js";import{Ba as p}from"./chunk-24Y6DEMT.js";import{Va as s,Xb as c,qb as r,va as n,yc as a}from"./chunk-YL2HPNIQ.js";var U=(()=>{class o{constructor(t,e,i,h){this.platformId=t,this.store=e,this.cookieService=i,this.router=h}decrypt(t){try{let e=CryptoJS.AES.decrypt(t,y.TokenSecretKey);return JSON.parse(e.toString(CryptoJS.enc.Utf8))}catch(e){return console.error("Token decryption failed:",e),null}}manageUserToken(){this.store.select(l).subscribe(t=>{let e=this.cookieService.get("userToken");(e?this.decrypt(e):null)!=null&&this.router.navigate(["/home"])})}ngOnInit(){p(this.platformId)&&this.manageUserToken()}static{this.\u0275fac=function(e){return new(e||o)(r(s),r(d),r(f),r(u))}}static{this.\u0275cmp=n({type:o,selectors:[["app-auth-layout"]],standalone:!0,features:[a],decls:1,vars:0,template:function(e,i){e&1&&c(0,"router-outlet")},dependencies:[m]})}}return o})();export{U as AuthLayoutComponent};
