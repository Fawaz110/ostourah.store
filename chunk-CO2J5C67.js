import{a as B}from"./chunk-EN27VUQP.js";import{a as R}from"./chunk-UQ6IVA5U.js";import{b as $}from"./chunk-5YQQEXEO.js";import{a as z}from"./chunk-WSAW2S45.js";import{l as W}from"./chunk-ZZ4TVKJ3.js";import{W as O,X as P}from"./chunk-F54PHEQN.js";import{c as j,d as F}from"./chunk-YRDZDYCR.js";import{aa as E,wa as M,ya as L}from"./chunk-24Y6DEMT.js";import{Gb as f,Gc as v,Hc as T,Ic as w,Lb as l,Vb as n,Wb as o,Xb as d,ca as u,gc as I,hc as x,i as m,kb as _,pb as t,qb as c,qc as s,rc as p,sc as C,tc as S,va as b,yc as k,zb as h}from"./chunk-YL2HPNIQ.js";function D(r,g){if(r&1&&(n(0,"span",25),s(1),v(2,"translate"),o()),r&2){let i=x();t(),S("",T(2,2,"cart.discount")," ",i.product.discount,"%")}}function q(r,g){if(r&1&&(n(0,"del",26),s(1),o()),r&2){let i=x();t(),p(i.product.price)}}function A(r,g){r&1&&d(0,"i",27)}function N(r,g){r&1&&d(0,"i",28)}var ae=(()=>{class r{constructor(i,a,e,y){this._WishlistService=i,this._Store=a,this._ToastrService=e,this._Router=y,this.isFavourite=h(!1),this.currency$=this._Store.select($),this.currency=""}ngOnInit(){this.currency$.pipe(u(i=>this.currency=i)).subscribe(m,i=>console.log(i))}addToWishlist(i){this._Store.select(z).pipe(u(e=>{e.token!=null?(this.isFavourite=h(!0),this.addItemToWishlist(i)):(this._ToastrService.warning(localStorage.getItem("lang")?.includes("en")?"This action require login":"\u064A\u062C\u0628 \u062A\u0633\u062C\u064A\u0644 \u0644\u0644\u062F\u062E\u0648\u0644 \u0644\u0627\u062A\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"),this._Router.navigate(["/au/sign-in"]))})).subscribe(m,e=>console.log(e))}addItemToWishlist(i){this._WishlistService.addToWishlist(i).pipe(u(a=>{a.code==200&&(this._WishlistService.count.next(this._WishlistService.count.value+1),this._ToastrService.success(a.message))})).subscribe(m,a=>console.log(a))}static{this.\u0275fac=function(a){return new(a||r)(c(R),c(W),c(B),c(O))}}static{this.\u0275cmp=b({type:r,selectors:[["app-card-item"]],inputs:{product:"product"},standalone:!0,features:[k],decls:34,vars:18,consts:[[1,"relative","overflow-hidden","duration-200","border","rounded-md","shadow-md","product","group/card","card","bg-gray-50","border-gray-50","hover:border-main-solid"],[3,"routerLink"],["class","absolute z-10 px-4 text-xs bg-red-600 rounded-tl-full rounded-br-full top-2 left-2 lg:top-5 lg:left-5 text-gray-50",4,"ngIf"],[1,"w-full","min-h-52","max-h-52","flex","items-stretch","mb-3","overflow-hidden","rounded-md","bg-red-200"],["loading","lazy",1,"w-full","duration-200","group-hover/card:scale-110",3,"src","alt"],[1,"p-3","content"],[1,"cursor-pointer"],[1,"flex","flex-col","items-start","justify-center","gap-2","main-content",3,"routerLink"],[1,"px-4","py-2","text-xs","duration-200","border","rounded-md","sm:m-0","sm:px-2","sm:py-1","-tracking-tighter","bg-main-solid","text-gray-50","border-main-solid","group-hover/card:text-main-solid","group-hover/card:bg-transparent"],[1,"text-xl","font-bold","duration-200","cursor-pointer","text-main-solid","hover:text-main-light","line-clamp-1"],[1,"flex","items-center","gap-2","my-3","text-sm"],[1,"text-lg","pi","pi-shop","text-main-solid"],[1,"text-gray-400"],[1,"my-3","text-xl","font-bold","group-hover/card:text-main-solid",3,"routerLink"],[1,"inline-block","mx-2","text-gray-400","text-sm"],["class","text-base text-gray-400 line-through",4,"ngIf"],[1,"flex","items-center","justify-between","gap-5","text-sm","text-gray-400"],[1,"rate","flex","items-center","gap-2",3,"routerLink"],[1,"text-yellow-500","pi","pi-star-fill"],[1,"btns","flex","gap-2","items-center"],[1,"w-10","h-10","flex","items-center","justify-center","text-lg","font-semibold","text-center","duration-200","border","rounded-full","lg:text-sm","xl:text-lg","text-nowrap","bg-main-lighter","border-main-lighter","text-main-solid","hover:text-main-lighter","hover:bg-main-solid","hover:border-main-solid",3,"routerLink"],[1,"pi","pi-shopping-cart"],[1,"w-10","h-10","flex","items-center","justify-center","text-lg","font-semibold","text-center","duration-200","border","rounded-full","lg:text-sm","xl:text-lg","text-nowrap","border-main-lighter","text-main-solid","hover:text-main-lighter","hover:bg-main-solid","hover:border-main-solid",3,"click"],["class","pi pi-heart",4,"ngIf"],["class","pi pi-heart-fill",4,"ngIf"],[1,"absolute","z-10","px-4","text-xs","bg-red-600","rounded-tl-full","rounded-br-full","top-2","left-2","lg:top-5","lg:left-5","text-gray-50"],[1,"text-base","text-gray-400","line-through"],[1,"pi","pi-heart"],[1,"pi","pi-heart-fill"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1),f(2,D,3,4,"span",2),n(3,"figure",3),d(4,"img",4),o()(),n(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),s(9),o(),n(10,"h3",9),s(11),o()(),n(12,"p",10),d(13,"i",11),n(14,"span",12),s(15,"By Al-ostourah store"),o()(),n(16,"h3",13)(17,"span"),s(18),v(19,"currency"),o(),n(20,"span",14),s(21,"/Qty"),o(),f(22,q,2,1,"del",15),o(),n(23,"div",16)(24,"div",17)(25,"span"),s(26),o(),d(27,"i",18),o(),n(28,"div",19)(29,"button",20),d(30,"i",21),o(),n(31,"button",22),I("click",function(){return e.addToWishlist(e.product.id)}),f(32,A,1,0,"i",23)(33,N,1,0,"i",24),o()()()()()()),a&2&&(t(),l("routerLink","/product/description/"+e.product.id),t(),l("ngIf",e.product.discount>0),t(2),l("src",e.product.coverImage,_)("alt",e.product.title),t(3),l("routerLink","/product/description/"+e.product.id),t(2),p(e.product.category),t(2),C(" ",e.product.title," "),t(5),l("routerLink","/product/description/"+e.product.id),t(2),p(w(19,15,e.product.priceOfterDiscount,e.currency)),t(4),l("ngIf",e.product.discount>0),t(2),l("routerLink","/product/description/"+e.product.id),t(2),p(e.product.rate),t(3),l("routerLink","/product/description/"+e.product.id),t(3),l("ngIf",!e.isFavourite()),t(),l("ngIf",e.isFavourite()))},dependencies:[P,L,E,M,F,j],styles:[".product[_ngcontent-%COMP%]:hover   .heart[_ngcontent-%COMP%]{transform:translate(0)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]{transition:transform .5s .4s;transform:translate(160%)}.product[_ngcontent-%COMP%]   .heart[_ngcontent-%COMP%]:hover, .heart[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_animate 1s linear infinite}@keyframes _ngcontent-%COMP%_animate{0%{transform:scale(1)}20%{transform:scale(.8)}40%{transform:scale(1.5)}60%{transform:scale(1)}80%{transform:scale(1.3)}to{transform:scale(1)}}"]})}}return r})();export{ae as a};
