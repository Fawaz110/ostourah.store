import{a as U}from"./chunk-RFMH7JZO.js";import{b as F,e as W,g as L,i as N,l as D,m as q}from"./chunk-RWPWEADW.js";import{a as Q}from"./chunk-E2LGF6XJ.js";import{a as z}from"./chunk-PLGZH6PH.js";import"./chunk-E5CK7IDI.js";import"./chunk-RZA4WTT7.js";import"./chunk-5YQQEXEO.js";import"./chunk-E7LQUBD3.js";import"./chunk-WSAW2S45.js";import"./chunk-ZZ4TVKJ3.js";import{H as x}from"./chunk-GBURKEHO.js";import"./chunk-SQCQW5LJ.js";import"./chunk-NMGI7OHJ.js";import{c as A,d as j}from"./chunk-YRDZDYCR.js";import{$ as E,aa as B}from"./chunk-24Y6DEMT.js";import{Gb as P,Gc as c,Hc as u,Lb as s,Ra as R,Vb as o,Wb as a,Xb as g,ca as M,gc as h,hc as T,i as b,pb as n,qb as p,qc as f,rc as _,sc as k,uc as y,va as S,vc as v,wb as I,wc as C,yc as O,zb as m}from"./chunk-YL2HPNIQ.js";function V(r,w){if(r&1&&(o(0,"div",18),g(1,"app-card-item",19),a()),r&2){let t=w.$implicit;n(),s("product",t)}}function G(r,w){r&1&&g(0,"i",23)}function H(r,w){if(r&1&&(o(0,"div",20)(1,"button",21),f(2),c(3,"translate"),P(4,G,1,0,"i",22),a()()),r&2){let t=T();n(2),k(" ",u(3,2,"products.view-more")," "),n(2),s("ngIf",t.load())}}var le=(()=>{class r{constructor(t,l,e,d,i){this._ElementRef=t,this._Renderer2=l,this._FormBuilder=e,this._ProductService=d,this._ActivatedRoute=i,this.load=m(!1),this.sortingOption=void 0,this.products=[],this.keyword="",this.category=""}ngOnInit(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.getQueryParams(),this.keyword!=""||this.category!=""?(console.log("keyword: ",this.keyword),console.log("category: ",this.category),this.search(this.keyword)):this.getAll(1)}getQueryParams(){this._ActivatedRoute.queryParams.subscribe(t=>{this.keyword=t.keyword||"",this.category=t.category||""})}search(t,l=void 0){this._ProductService.search(t).pipe(M(e=>{console.log("response: ",e)})).subscribe(b,e=>console.log(e))}sortingChanged(){this.getAll(1,this.sortingOption)}seeMore(){this.getAll(this.pagination.currentPage+1)}toggleSortingMenu(){let t=this._ElementRef.nativeElement.querySelector("#sorting-options-menu");console.log(!0),t.classList.contains("hidden")?(this._Renderer2.addClass(t,"opacity-0"),this._Renderer2.removeClass(t,"hidden"),setTimeout(()=>{this._Renderer2.removeClass(t,"opacity-0"),this._Renderer2.removeClass(t,"translate-y-4"),this._Renderer2.addClass(t,"translate-y-2")},10)):(this._Renderer2.addClass(t,"opacity-0"),this._Renderer2.removeClass(t,"translate-y-2"),this._Renderer2.addClass(t,"translate-y-4"),setTimeout(()=>{this._Renderer2.removeClass(t,"opacity-0"),this._Renderer2.addClass(t,"hidden")},200))}getAll(t=1,l=void 0){this.load=m(!0),this._ProductService.getAll(l,t).pipe(M(e=>{this.load=m(!1),this.products.push(...e.data.products),this.pagination=e.data.pagination})).subscribe(b,e=>{this.load=m(!1),console.log(e)})}static{this.\u0275fac=function(l){return new(l||r)(p(R),p(I),p(D),p(Q),p(x))}}static{this.\u0275cmp=S({type:r,selectors:[["app-products"]],standalone:!0,features:[O],decls:29,vars:20,consts:[[1,"relative"],[3,"title"],[1,"p-2"],[1,"filteration","mb-2","flex","gap-5","items-center"],[1,"relative","size-10","rounded-full","border","border-main-light","text-main-solid","text-xl",3,"click"],[1,"pi","pi-filter"],["id","sorting-options-menu",1,"rounded-md","bg-white","shadow-md","overflow-hidden","absolute","z-50","top-full","rtl:right-0","ltr:left-0","translate-y-4","hidden","duration-200","w-40","border","border-main-lighter","text-main-light","text-start"],[1,"hover:bg-main-lighter","hover:bg-opacity-50","duration-100"],["type","radio","id","recent",1,"hidden","peer/option",3,"ngModelChange","ngModel","value"],["for","recent",1,"peer-checked/option:text-main-solid","block","p-2","w-full"],["type","radio","id","rate",1,"hidden","peer/option",3,"ngModelChange","ngModel","value"],["for","rate",1,"peer-checked/option:text-main-solid","block","p-2","w-full"],["type","radio","id","sale",1,"hidden","peer/option",3,"ngModelChange","ngModel","value"],["for","sale",1,"peer-checked/option:text-main-solid","block","p-2","w-full"],[1,"flex","items-center","justify-center"],[1,"grid","grid-cols-12","gap-10","md:gap-5","sm:gap-5"],["class","col-span-12 md:col-span-4 lg:col-span-3 wow bounceInUp","data-wow-duration","1s","data-wow-delay","0s",4,"ngFor","ngForOf"],["class","col-span-12 inline-flex items-center justify-center",4,"ngIf"],["data-wow-duration","1s","data-wow-delay","0s",1,"col-span-12","md:col-span-4","lg:col-span-3","wow","bounceInUp"],[3,"product"],[1,"col-span-12","inline-flex","items-center","justify-center"],[1,"btn-main","flex","items-center","justify-center","gap-2"],["class","pi pi-spinner animate-spin",4,"ngIf"],[1,"pi","pi-spinner","animate-spin"]],template:function(l,e){l&1&&(o(0,"section",0),g(1,"app-banner",1),c(2,"translate"),o(3,"div",2)(4,"div",3)(5,"button",4),h("click",function(){return e.toggleSortingMenu()}),o(6,"span"),g(7,"i",5),a(),o(8,"div",6)(9,"ul")(10,"li",7)(11,"input",8),C("ngModelChange",function(i){return v(e.sortingOption,i)||(e.sortingOption=i),i}),h("ngModelChange",function(){return e.sortingChanged()}),a(),o(12,"label",9),f(13),c(14,"translate"),a()(),o(15,"li",7)(16,"input",10),C("ngModelChange",function(i){return v(e.sortingOption,i)||(e.sortingOption=i),i}),h("ngModelChange",function(){return e.sortingChanged()}),a(),o(17,"label",11),f(18),c(19,"translate"),a()(),o(20,"li",7)(21,"input",12),C("ngModelChange",function(i){return v(e.sortingOption,i)||(e.sortingOption=i),i}),h("ngModelChange",function(){return e.sortingChanged()}),a(),o(22,"label",13),f(23),c(24,"translate"),a()()()()()(),o(25,"div",14)(26,"div",15),P(27,V,2,1,"div",16)(28,H,5,4,"div",17),a()()()()),l&2&&(n(),s("title",u(2,12,"products.title")),n(10),y("ngModel",e.sortingOption),s("value",void 0),n(2),_(u(14,14,"products.recent-added")),n(3),y("ngModel",e.sortingOption),s("value","-rateCount"),n(2),_(u(19,16,"products.rate-count")),n(3),y("ngModel",e.sortingOption),s("value","-numberOfSale"),n(2),_(u(24,18,"products.number-of-sale")),n(4),s("ngForOf",e.products),n(),s("ngIf",(e.pagination==null?null:e.pagination.currentPage)!=(e.pagination==null?null:e.pagination.numbersOfPages)))},dependencies:[z,U,j,A,q,F,N,W,L,E,B]})}}return r})();export{le as ProductsComponent};
